
{
  "id": "customer-support-ticket",
  "name": "Customer Support Ticket Process",
  "startEvent": {
    "id": "start",
    "name": "Receive Support E-mail"
  },
  "endEvent": {
    "id": "end",
    "name": "Ticket Closed or Terminated"
  },
  "flow": [
    {
      "id": "receive-e-mail",
      "type": "startEvent",
      "name": "Receive Support E-mail",
      "incoming": ["start"],
      "outgoing": ["create-ticket"]
    },
    {
      "id": "create-ticket",
      "type": "task",
      "name": "Parse E-mail and Create Ticket",
      "incoming": ["receive-e-mail"],
      "outgoing": ["classify-ticket"]
    },
    {
      "id": "classify-ticket",
      "type": "ExclusiveGateway",
      "name": "Initial Classification",
      "incoming": ["create-ticket"],
      "choices": [
        {
          "id": "simple-route",
          "name": "Simple",
          "outgoing": [
            {"id": "resolve-simple", "type": "task", "name": "Provide Resolution"}
          ]
        },
        {
          "id": "complex-route",
          "name": "Complex",
          "outgoing": [
            {"id": "analyze-root-cause", "type": "task", "name": "Root Cause Analysis"}
          ]
        }
      ]
    },
    {
      "id": "resolve-simple",
      "type": "task",
      "name": "Provide Resolution",
      "incoming": ["simple-route"],
      "outgoing": [
        {"id": "send-response", "type": "task", "name": "Send Response to Customer"}
      ]
    },
    {
      "id": "analyze-root-cause",
      "type": "task",
      "name": "Root Cause Analysis",
      "incoming": ["complex-route"],
      "outgoing": [
        {"id": "send-response", "type": "task", "name": "Send Response to Customer"}
      ]
    },
    {
      "id": "send-response",
      "type": "task",
      "name": "Send Response to Customer (and Log Solution)",
      "incoming": [
        {"id": "resolve-simple", "condition": "simple path"},
        {"id": "analyze-root-cause", "condition": "complex path"}
      ],
      "outgoing": [
        {"id": "log-kb", "type": "task", "name": "Log Solution in Knowledge Base"},
        {"id": "wait-customer-reply", "type": "timedEvent", "name": "Wait for Customer Reply (max 24h)"}
      ]
    },
    {
      "id": "log-kb",
      "type": "task",
      "name": "Log Solution in Knowledge Base",
      "incoming": ["send-response"],
      "outgoing": ["wait-customer-reply"]
    },
    {
      "id": "wait-customer-reply",
      "type": "timedEvent",
      "name": "Wait for Customer Reply (24 hours)",
      "incoming": ["send-response"],
      "outgoing": [
        {"id": "ticket-closed-reply", "type": "gateways", "name": "Customer Reply Received", "incoming": ["wait-customer-reply"], "outgoing": ["close-ticket"]},
        {"id": "ticket-closed-no-reply", "type": "gateways", "name": "No Reply in 24 hours", "incoming": ["wait-customer-reply"], "outgoing": ["send-reminder", "close-ticket"]}
      ]
    },
    {
      "id": "customer-reply-received",
      "type": "gateways",
      "name": "Customer Reply Received",
      "incoming": ["ticket-closed-reply"],
      "outgoing": [
        {"id": "close-ticket", "type": "task", "name": "Close Ticket"}
      ]
    },
    {
      "id": "customer-no-reply",
      "type": "gateways",
      "name": "No Reply in 24 hours",
      "incoming": ["ticket-closed-no-reply"],
      "outgoing": [
        {"id": "send-reminder", "type": "task", "name": "Send Reminder"},
        {"id": "close-ticket", "type": "task", "name": "Close Ticket"}
      ]
    },
    {
      "id": "send-reminder",
      "type": "task",
      "name": "Send Reminder",
      "incoming": ["customer-no-reply"],
      "outgoing": ["close-ticket"]
    },
    {
      "id": "close-ticket",
      "type": "task",
      "name": "Close Ticket",
      "incoming": [
        {"id": "customer-reply-received"},
        {"id": "customer-no-reply"},
        {"id": "end"}
      ],
      "outgoing": ["end"]
    },
    {
      "id": "ticket-canceled",
      "type": "event",
      "name": "Ticket Canceled by Customer",
      "incoming": ["create-ticket", "send-response", "wait-customer-reply"],
      "outgoing": ["end"]
    }
  ]
}