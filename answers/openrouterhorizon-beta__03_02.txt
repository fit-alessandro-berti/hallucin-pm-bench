{
  "definitions": {
    "id": "Defs_Support_Ticket",
    "targetNamespace": "http://example.com/bpmn/support-ticket",
    "process": {
      "id": "Process_Support_Ticket",
      "name": "Customer Support Ticket",
      "isExecutable": true,
      "eventDefinitions": [],
      "laneSet": null,
      "flowElements": [
        {
          "id": "start_email_received",
          "type": "startEvent",
          "name": "Support E-mail Received",
          "outgoing": ["flow_start_to_parse"],
          "eventDefinitions": []
        },
        {
          "id": "task_parse_email",
          "type": "task",
          "name": "Parse E-mail",
          "incoming": ["flow_start_to_parse"],
          "outgoing": ["flow_parse_to_create_ticket"]
        },
        {
          "id": "task_create_ticket",
          "type": "task",
          "name": "Create Ticket",
          "incoming": ["flow_parse_to_create_ticket"],
          "outgoing": ["flow_create_to_classify"]
        },
        {
          "id": "exclusive_gateway_classification",
          "type": "exclusiveGateway",
          "name": "Initial Classification",
          "incoming": ["flow_create_to_classify"],
          "outgoing": ["flow_classify_simple", "flow_classify_complex"]
        },
        {
          "id": "task_provide_resolution",
          "type": "task",
          "name": "Provide Resolution",
          "incoming": ["flow_classify_simple", "flow_rca_to_resolution"],
          "outgoing": ["flow_resolution_to_parallel"]
        },
        {
          "id": "task_root_cause_analysis",
          "type": "task",
          "name": "Root Cause Analysis",
          "incoming": ["flow_classify_complex"],
          "outgoing": ["flow_rca_to_resolution"]
        },
        {
          "id": "parallel_gateway_fork",
          "type": "parallelGateway",
          "name": "Parallel After Resolution",
          "incoming": ["flow_resolution_to_parallel"],
          "outgoing": ["flow_parallel_to_send_response", "flow_parallel_to_log_kb"]
        },
        {
          "id": "task_send_response",
          "type": "task",
          "name": "Send Response to Customer",
          "incoming": ["flow_parallel_to_send_response"],
          "outgoing": ["flow_send_response_to_wait"]
        },
        {
          "id": "task_log_kb",
          "type": "task",
          "name": "Log Solution in Knowledge Base",
          "incoming": ["flow_parallel_to_log_kb"],
          "outgoing": ["flow_log_kb_to_join"]
        },
        {
          "id": "event_based_gateway_wait",
          "type": "eventBasedGateway",
          "name": "Wait for Customer Reply or Timeout",
          "incoming": ["flow_send_response_to_wait"],
          "outgoing": ["flow_wait_to_reply_message", "flow_wait_to_timer"]
        },
        {
          "id": "intermediateCatchEvent_customer_reply",
          "type": "intermediateCatchEvent",
          "name": "Customer Reply",
          "incoming": ["flow_wait_to_reply_message"],
          "outgoing": ["flow_reply_to_close"],
          "eventDefinitions": [
            {
              "type": "messageEventDefinition",
              "messageRef": "Message_CustomerReply"
            }
          ]
        },
        {
          "id": "intermediateCatchEvent_24h_timer",
          "type": "intermediateCatchEvent",
          "name": "24h No Reply",
          "incoming": ["flow_wait_to_timer"],
          "outgoing": ["flow_timer_to_send_reminder"],
          "eventDefinitions": [
            {
              "type": "timerEventDefinition",
              "timeDuration": "PT24H"
            }
          ]
        },
        {
          "id": "task_send_reminder",
          "type": "task",
          "name": "Send Reminder",
          "incoming": ["flow_timer_to_send_reminder"],
          "outgoing": ["flow_reminder_to_close"]
        },
        {
          "id": "task_close_ticket",
          "type": "task",
          "name": "Close Ticket",
          "incoming": ["flow_reply_to_close", "flow_join_to_close", "flow_reminder_to_close"],
          "outgoing": ["flow_close_to_end"]
        },
        {
          "id": "end_event_closed",
          "type": "endEvent",
          "name": "Ticket Closed",
          "incoming": ["flow_close_to_end"],
          "eventDefinitions": []
        },
        {
          "id": "parallel_gateway_join",
          "type": "parallelGateway",
          "name": "Join After KB Logging",
          "incoming": ["flow_log_kb_to_join"],
          "outgoing": ["flow_join_to_close"]
        },
        {
          "id": "boundary_cancel_message_on_parse",
          "type": "boundaryEvent",
          "name": "Customer Cancels",
          "attachedToRef": "task_parse_email",
          "cancelActivity": true,
          "outgoing": ["flow_cancel_to_terminate"],
          "eventDefinitions": [
            {
              "type": "messageEventDefinition",
              "messageRef": "Message_CustomerCancel"
            }
          ]
        },
        {
          "id": "boundary_cancel_message_on_create",
          "type": "boundaryEvent",
          "name": "Customer Cancels",
          "attachedToRef": "task_create_ticket",
          "cancelActivity": true,
          "outgoing": ["flow_cancel2_to_terminate"],
          "eventDefinitions": [
            {
              "type": "messageEventDefinition",
              "messageRef": "Message_CustomerCancel"
            }
          ]
        },
        {
          "id": "boundary_cancel_message_on_classification",
          "type": "boundaryEvent",
          "name": "Customer Cancels",
          "attachedToRef": "exclusive_gateway_classification",
          "cancelActivity": true,
          "outgoing": ["flow_cancel3_to_terminate"],
          "eventDefinitions": [
            {
              "type": "messageEventDefinition",
              "messageRef": "Message_CustomerCancel"
            }
          ]
        },
        {
          "id": "boundary_cancel_message_on_rca",
          "type": "boundaryEvent",
          "name": "Customer Cancels",
          "attachedToRef": "task_root_cause_analysis",
          "cancelActivity": true,
          "outgoing": ["flow_cancel4_to_terminate"],
          "eventDefinitions": [
            {
              "type": "messageEventDefinition",
              "messageRef": "Message_CustomerCancel"
            }
          ]
        },
        {
          "id": "boundary_cancel_message_on_resolution",
          "type": "boundaryEvent",
          "name": "Customer Cancels",
          "attachedToRef": "task_provide_resolution",
          "cancelActivity": true,
          "outgoing": ["flow_cancel5_to_terminate"],
          "eventDefinitions": [
            {
              "type": "messageEventDefinition",
              "messageRef": "Message_CustomerCancel"
            }
          ]
        },
        {
          "id": "boundary_cancel_message_on_send_response",
          "type": "boundaryEvent",
          "name": "Customer Cancels",
          "attachedToRef": "task_send_response",
          "cancelActivity": true,
          "outgoing": ["flow_cancel6_to_terminate"],
          "eventDefinitions": [
            {
              "type": "messageEventDefinition",
              "messageRef": "Message_CustomerCancel"
            }
          ]
        },
        {
          "id": "boundary_cancel_message_on_log_kb",
          "type": "boundaryEvent",
          "name": "Customer Cancels",
          "attachedToRef": "task_log_kb",
          "cancelActivity": true,
          "outgoing": ["flow_cancel7_to_terminate"],
          "eventDefinitions": [
            {
              "type": "messageEventDefinition",
              "messageRef": "Message_CustomerCancel"
            }
          ]
        },
        {
          "id": "terminate_event_cancel",
          "type": "endEvent",
          "name": "Terminated by Customer",
          "incoming": [
            "flow_cancel_to_terminate",
            "flow_cancel2_to_terminate",
            "flow_cancel3_to_terminate",
            "flow_cancel4_to_terminate",
            "flow_cancel5_to_terminate",
            "flow_cancel6_to_terminate",
            "flow_cancel7_to_terminate"
          ],
          "eventDefinitions": [
            {
              "type": "terminateEventDefinition"
            }
          ]
        },
        {
          "id": "flow_start_to_parse",
          "type": "sequenceFlow",
          "sourceRef": "start_email_received",
          "targetRef": "task_parse_email"
        },
        {
          "id": "flow_parse_to_create_ticket",
          "type": "sequenceFlow",
          "sourceRef": "task_parse_email",
          "targetRef": "task_create_ticket"
        },
        {
          "id": "flow_create_to_classify",
          "type": "sequenceFlow",
          "sourceRef": "task_create_ticket",
          "targetRef": "exclusive_gateway_classification"
        },
        {
          "id": "flow_classify_simple",
          "type": "sequenceFlow",
          "name": "Simple",
          "sourceRef": "exclusive_gateway_classification",
          "targetRef": "task_provide_resolution",
          "conditionExpression": "${classification == 'Simple'}"
        },
        {
          "id": "flow_classify_complex",
          "type": "sequenceFlow",
          "name": "Complex",
          "sourceRef": "exclusive_gateway_classification",
          "targetRef": "task_root_cause_analysis",
          "conditionExpression": "${classification == 'Complex'}"
        },
        {
          "id": "flow_rca_to_resolution",
          "type": "sequenceFlow",
          "sourceRef": "task_root_cause_analysis",
          "targetRef": "task_provide_resolution"
        },
        {
          "id": "flow_resolution_to_parallel",
          "type": "sequenceFlow",
          "sourceRef": "task_provide_resolution",
          "targetRef": "parallel_gateway_fork"
        },
        {
          "id": "flow_parallel_to_send_response",
          "type": "sequenceFlow",
          "sourceRef": "parallel_gateway_fork",
          "targetRef": "task_send_response"
        },
        {
          "id": "flow_parallel_to_log_kb",
          "type": "sequenceFlow",
          "sourceRef": "parallel_gateway_fork",
          "targetRef": "task_log_kb"
        },
        {
          "id": "flow_send_response_to_wait",
          "type": "sequenceFlow",
          "sourceRef": "task_send_response",
          "targetRef": "event_based_gateway_wait"
        },
        {
          "id": "flow_wait_to_reply_message",
          "type": "sequenceFlow",
          "sourceRef": "event_based_gateway_wait",
          "targetRef": "intermediateCatchEvent_customer_reply"
        },
        {
          "id": "flow_wait_to_timer",
          "type": "sequenceFlow",
          "sourceRef": "event_based_gateway_wait",
          "targetRef": "intermediateCatchEvent_24h_timer"
        },
        {
          "id": "flow_reply_to_close",
          "type": "sequenceFlow",
          "sourceRef": "intermediateCatchEvent_customer_reply",
          "targetRef": "task_close_ticket"
        },
        {
          "id": "flow_timer_to_send_reminder",
          "type": "sequenceFlow",
          "sourceRef": "intermediateCatchEvent_24h_timer",
          "targetRef": "task_send_reminder"
        },
        {
          "id": "flow_reminder_to_close",
          "type": "sequenceFlow",
          "sourceRef": "task_send_reminder",
          "targetRef": "task_close_ticket"
        },
        {
          "id": "flow_log_kb_to_join",
          "type": "sequenceFlow",
          "sourceRef": "task_log_kb",
          "targetRef": "parallel_gateway_join"
        },
        {
          "id": "flow_join_to_close",
          "type": "sequenceFlow",
          "sourceRef": "parallel_gateway_join",
          "targetRef": "task_close_ticket"
        },
        {
          "id": "flow_close_to_end",
          "type": "sequenceFlow",
          "sourceRef": "task_close_ticket",
          "targetRef": "end_event_closed"
        },
        {
          "id": "flow_cancel_to_terminate",
          "type": "sequenceFlow",
          "sourceRef": "boundary_cancel_message_on_parse",
          "targetRef": "terminate_event_cancel"
        },
        {
          "id": "flow_cancel2_to_terminate",
          "type": "sequenceFlow",
          "sourceRef": "boundary_cancel_message_on_create",
          "targetRef": "terminate_event_cancel"
        },
        {
          "id": "flow_cancel3_to_terminate",
          "type": "sequenceFlow",
          "sourceRef": "boundary_cancel_message_on_classification",
          "targetRef": "terminate_event_cancel"
        },
        {
          "id": "flow_cancel4_to_terminate",
          "type": "sequenceFlow",
          "sourceRef": "boundary_cancel_message_on_rca",
          "targetRef": "terminate_event_cancel"
        },
        {
          "id": "flow_cancel5_to_terminate",
          "type": "sequenceFlow",
          "sourceRef": "boundary_cancel_message_on_resolution",
          "targetRef": "terminate_event_cancel"
        },
        {
          "id": "flow_cancel6_to_terminate",
          "type": "sequenceFlow",
          "sourceRef": "boundary_cancel_message_on_send_response",
          "targetRef": "terminate_event_cancel"
        },
        {
          "id": "flow_cancel7_to_terminate",
          "type": "sequenceFlow",
          "sourceRef": "boundary_cancel_message_on_log_kb",
          "targetRef": "terminate_event_cancel"
        }
      ]
    },
    "messages": [
      {
        "id": "Message_CustomerReply",
        "name": "Customer Reply"
      },
      {
        "id": "Message_CustomerCancel",
        "name": "Customer Cancellation"
      }
    ]
  }
}